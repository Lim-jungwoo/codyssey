# Git: Merge vs Rebase

Git에서 브랜치를 병합할 때 사용하는 대표적인 방법은 `merge`와 `rebase`입니다.  
각 방법의 작동 방식과 협업 시 고려사항을 정리하면 다음과 같습니다.

---

## ✅ Merge

`git merge`는 브랜치 간의 변경 사항을 **병합 커밋(Merge Commit)**으로 통합합니다.

### 📌 특징

- 히스토리를 **그대로 유지**
- 병합 지점에 **merge 커밋 생성**
- 이력이 **비선형(non-linear)** 구조

### 📘 예시

```bash
git switch feature
git merge main
```

```text
main:    A---B
               \
feature:        C---D
                  \
                   E  ← merge 커밋
```

---

## ✅ Rebase

`git rebase`는 브랜치 기반을 다른 브랜치의 최신 커밋으로 옮기고,  
자신의 커밋들을 그 위에 **새로 적용**하는 방식입니다.

### 📌 특징

- 커밋 히스토리가 **선형(linear)**
- 기존 커밋을 **복제**해서 새 커밋으로 생성
- 커밋 ID가 **새롭게 생성됨**

### 📘 예시

```bash
git switch feature
git rebase main
```

```text
main:    A---B
                \
feature:         C'---D'  ← (C, D의 복사본)
```

---

## 🔄 Merge vs Rebase 요약 비교

| 항목          | Merge                | Rebase                           |
| ------------- | -------------------- | -------------------------------- |
| 히스토리 구조 | 비선형 (병합점 있음) | 선형 (깔끔한 일렬 커밋)          |
| 커밋 ID       | 변경 없음            | 새 커밋으로 복제됨               |
| 충돌 처리     | 병합 지점에서 한 번  | 커밋 하나하나마다 개별 충돌 가능 |
| 협업 안정성   | ✅ 안정적            | ⚠ 공유 브랜치에서는 위험         |
| 기록 추적     | merge 커밋으로 명확  | 병합 흔적이 없어 추적 어려움     |

---

## 🤝 협업 시 Merge를 추천하는 이유

1. ### 🧾 명확한 병합 이력

   - 병합 시점과 대상 브랜치가 **merge 커밋**으로 명확하게 기록됨

2. ### ⚠ 커밋 ID 변경 없음

   - `rebase`는 커밋 ID를 변경하므로, **공유 브랜치에서 사용 시 충돌 위험**

3. ### 🔐 히스토리 보존

   - 협업 중인 브랜치를 `rebase`하면 **다른 사람의 작업 이력과 충돌 가능성 증가**

4. ### 🧭 로그 시각화 용이
   - `git log --graph --oneline` 등으로 병합 관계 확인이 쉬움

---

## ✅ 결론

| 상황                    | 추천 방식 |
| ----------------------- | --------- |
| 개인 브랜치 정리        | Rebase    |
| 팀 프로젝트 병합        | ✅ Merge  |
| 배포 이력 명확히 남기기 | ✅ Merge  |
| 공유 브랜치에서 작업    | ✅ Merge  |

> 💡 협업에서는 가능한 한 `rebase` 대신 `merge`를 사용하여 충돌을 줄이고 기록을 명확히 하세요.
